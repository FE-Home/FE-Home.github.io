title: node.js简介
date: 2018/10/14
categories:
- node
---

背景：前端小组开始接触node相关的知识，那么首先node是什么呢？

让我们先来引用官网的一段话：
Node.js 是一个基于 Chrome V8 引擎的 JavaScript 运行环境。 
Node.js 使用了一个事件驱动、非阻塞式 I/O 的模型，使其轻量又高效。 
Node.js 的包管理器 npm，是全球最大的开源库生态系统。

让我们详细的来解读一下这段话：
1. node.js是什么？
  * 关键词：运行环境， chrome V8引擎， JavaScript
  * 运行环境：表明node.js并不是一门js语言，也不是一个js的库或者框架，它是一个运行环境，就类似于可以解析和执行脚本语言的ide一样。
  * JavaSrcript运行环境：浏览器也是一个js运行环境，但是由于各种安全限制，浏览器这个容器限制了js的很多能力，
    而Node.js不同，Node.js是可以安装在很多操作系统中的，node.js选择了javaScript使得javaScript突破前端开发，成为可以用于服务器甚至系统级的应用开发言言
  * 基于Chrome V8引擎：V8引擎是一个基于c++开发的js的引擎，它其实是一个独立的块。之所以常常和chrome捆绑在一起是因为从V8引擎v出生起就应用于chrome浏览器中。
    现在这个V8引擎被Node.js使用,不同于其他js引擎，V8引擎会将js解释成原生的机器码并做各种优化，运行速度非常快。

2. 事件驱动：我们简单理解，就是：你点了一个按钮，触发了一个事件，这个事件触发后执行相应的函数代码，用事件的触发来执行相应的方法：这个过程就叫做事件驱动。
   js里面有很多的代码使用异步编程依赖于回调函数，这些就是典型的事件驱动。

3. 非阻塞式I/O: 配合事件驱动，正因为Node.js是事件驱动的，方法的执行也不依赖于代码的顺序，而是依赖于事件触发的顺序。
              这使得我们做一些异步操作的时候无需关心何时完成，无需等待，只需要告诉它成功之后做什么，失败之后做什么。不会影响其它代码的执行，也就是非阻塞式。
              例如：我们读取文件的时候，只用在回调里面告诉他结果返回做什么，他自己就会在结果返回调用回调函数处理，而不用我们等待结果的返回。其它的事情也不会被阻塞

4. npm: 我们开发的时候都会依赖一些库，而不用自己从0开始实现，Node.js开发也是如此，Node.js本身自带一谢模块，但这远远不够，
        我们需要npm包管理器来使用或利用一些工具，npm包管理器丰富的插件使js语言开发变得高效便捷。


Node.js的优缺点：
1. 优点
   * 部署简单方便：环境配置简单，npm使之如虎添翼，并且Node.js非常注重约定
   * 事件驱动，异步编程：非阻塞，时间利用率高
   * 高效与性能：单个操作并不优于其它解决方案，通过优化资源调配和I/O来实现高效。
     类比：php(同步编程，原地等待，开多进程，资源利用率低)
          c++(多线程，程序自己维护线程和资源状态，开发难度高)
   * 单线程与多进程：v8引擎是单线程，所以Node.js也是单线程，为了高效利用cpu资源，我们可以利用子进程（child_process模块）和多进程

2. 缺点
   * 大量使用匿名函数，抛出的错误不易阅读（一定程度上已经成为Node.js的包袱）
   * try/catch限于同步代码，异常不易捕获
   * 单线程可靠性的问题

   ps:对线程与进程有疑惑的童鞋，可以在线程与进程中查看哦